import{p as v,c as l,a as x,u as s,m as k,w as b,b as e,l as g,e as m,s as w,z as i,i as n,G as u,o as d,t as a,F as c,k as _,A as C}from"./app-C42XF4l0.js";import{_ as V}from"./EmasLayout-CT7diuvK.js";import"./DropdownLink-C3nCCoGM.js";const X={class:"mx-auto max-w-4xl space-y-6"},A={class:"flex items-center justify-between"},N={class:"grid gap-6 sm:grid-cols-2"},D={class:"sm:col-span-2"},U={key:0,class:"mt-1 text-sm text-red-600"},j={key:0,class:"mt-1 text-sm text-red-600"},B={key:0,class:"mt-1 text-sm text-red-600"},M={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"mt-1 text-sm text-red-600"},P={class:"max-h-64 space-y-2 overflow-y-auto rounded-lg border border-gray-300 p-4"},I=["value"],S={class:"flex-1"},T={class:"font-medium text-gray-900"},z={class:"text-sm text-gray-500"},E={key:0,class:"rounded-full bg-emerald-100 px-2 py-1 text-xs font-semibold text-emerald-800"},G={key:0,class:"mt-1 text-sm text-red-600"},J={key:1,class:"mt-2 text-xs text-green-600"},q={class:"flex justify-end gap-4 border-t pt-6"},L=["disabled"],$={key:0},H={key:1},R={__name:"Create",props:{centers:Array},setup(f){const r=v({full_name:"",email:"",phone:"",id_number:"",address:"",centers:[]}),y=()=>{r.post(route("emas.coordinators.store"))};return(p,t)=>(d(),l(c,null,[x(s(k),{title:"Add Coordinator"}),x(V,null,{default:b(()=>[e("div",X,[e("div",A,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Add New Coordinator"),e("p",{class:"mt-1 text-sm text-gray-600"},"Create a new center coordinator account")],-1)),x(s(g),{href:p.route("emas.coordinators.index"),class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50"},{default:b(()=>[...t[6]||(t[6]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back ",-1)])]),_:1},8,["href"])]),t[18]||(t[18]=e("div",{class:"rounded-lg border-l-4 border-blue-500 bg-blue-50 p-4"},[e("div",{class:"flex gap-3"},[e("svg",{class:"h-6 w-6 flex-shrink-0 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"flex-1"},[e("h3",{class:"text-sm font-semibold text-blue-900"},"Auto-Generated Credentials"),e("p",{class:"mt-1 text-sm text-blue-800"},[m(' Username will be generated from the full name (e.g., "John Doe" → "johnd"). Default password: '),e("span",{class:"font-mono font-bold"},"emas")])])])],-1)),e("form",{onSubmit:w(y,["prevent"]),class:"space-y-6 rounded-lg bg-white p-8 shadow-sm"},[e("div",null,[t[13]||(t[13]=e("h2",{class:"mb-4 text-lg font-bold text-gray-900"},"Personal Information",-1)),e("div",N,[e("div",D,[t[8]||(t[8]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},[m(" Full Name "),e("span",{class:"text-red-500"},"*")],-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(r).full_name=o),type:"text",required:"",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"John Doe"},null,512),[[u,s(r).full_name]]),s(r).errors.full_name?(d(),l("div",U,a(s(r).errors.full_name),1)):n("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Email",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(r).email=o),type:"email",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"john@example.com"},null,512),[[u,s(r).email]]),s(r).errors.email?(d(),l("div",j,a(s(r).errors.email),1)):n("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Phone",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(r).phone=o),type:"tel",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"+255 XXX XXX XXX"},null,512),[[u,s(r).phone]]),s(r).errors.phone?(d(),l("div",B,a(s(r).errors.phone),1)):n("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"ID Number",-1)),i(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(r).id_number=o),type:"text",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"National ID / Passport"},null,512),[[u,s(r).id_number]]),s(r).errors.id_number?(d(),l("div",M,a(s(r).errors.id_number),1)):n("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Address",-1)),i(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(r).address=o),rows:"3",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Full address"},null,512),[[u,s(r).address]]),s(r).errors.address?(d(),l("div",F,a(s(r).errors.address),1)):n("",!0)])])]),e("div",null,[t[16]||(t[16]=e("h2",{class:"mb-4 text-lg font-bold text-gray-900"},"Center Assignment",-1)),e("div",null,[t[14]||(t[14]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},[m(" Assign Centers "),e("span",{class:"text-red-500"},"*")],-1)),t[15]||(t[15]=e("p",{class:"mb-3 text-xs text-gray-600"}," Select one or more centers. The first selected center will be the primary center. ",-1)),e("div",P,[(d(!0),l(c,null,_(f.centers,o=>(d(),l("label",{key:o.id,class:"flex items-start gap-3 rounded-lg p-3 hover:bg-gray-50 cursor-pointer"},[i(e("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":t[5]||(t[5]=h=>s(r).centers=h),class:"mt-0.5 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,8,I),[[C,s(r).centers]]),e("div",S,[e("div",T,a(o.center_name),1),e("div",z,"Code: "+a(o.center_code),1)]),s(r).centers[0]===o.id?(d(),l("span",E," Primary ")):n("",!0)]))),128))]),s(r).errors.centers?(d(),l("div",G,a(s(r).errors.centers),1)):n("",!0),s(r).centers.length>0?(d(),l("p",J," ✓ "+a(s(r).centers.length)+" center(s) selected ",1)):n("",!0)])]),e("div",q,[x(s(g),{href:p.route("emas.coordinators.index"),class:"rounded-lg border border-gray-300 px-6 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50"},{default:b(()=>[...t[17]||(t[17]=[m(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(r).processing,class:"rounded-lg bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-50"},[s(r).processing?(d(),l("span",H,"Creating...")):(d(),l("span",$,"Create Coordinator"))],8,L)])],32)])]),_:1})],64))}};export{R as default};
