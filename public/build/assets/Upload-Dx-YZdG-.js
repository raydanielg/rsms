import{p as k,r as f,c as o,a as u,u as s,m as _,w as c,b as e,l as b,e as n,n as a,z as g,I as y,o as r,s as M,i as d,B as C,t as p,F as E}from"./app-BoWaoUwb.js";import{_ as B}from"./EmasLayout-DmcdjhlO.js";import"./DropdownLink-v00n1gGZ.js";const j={class:"space-y-6"},V={class:"flex items-center justify-between"},U={class:"rounded-lg bg-white p-6 shadow-sm"},S={class:"grid gap-4 sm:grid-cols-2"},N={class:"flex items-start gap-3"},R={class:"flex items-start gap-3"},z={class:"rounded-lg bg-white p-6 shadow-sm"},A={class:"max-w-md"},H={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"rounded-lg bg-white p-6 shadow-sm"},D={class:"mb-6"},I={class:"flex items-center justify-center w-full"},L={class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors"},P={class:"flex flex-col items-center justify-center pt-5 pb-6"},T={key:0,class:"mt-3 text-sm font-medium text-emerald-600"},q={key:0,class:"mt-2 text-sm text-red-600"},G={key:1,class:"rounded-lg bg-white p-6 shadow-sm"},O={class:"flex items-center justify-end gap-3"},X=["disabled"],Y={key:0,class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},W={__name:"Upload",setup($){const l=k({exam_id:"",upload_method:"file",file:null,results:[]}),h=f(null),x=f(""),v=m=>{const t=m.target.files[0];t&&(l.file=t,x.value=t.name)},w=()=>{l.post(route("emas.results.store"))};return(m,t)=>(r(),o(E,null,[u(s(_),{title:"Upload Results - EMAS"}),u(B,null,{default:c(()=>[e("div",j,[e("div",V,[t[4]||(t[4]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Upload Exam Results"),e("p",{class:"mt-1 text-sm text-gray-600"},"Upload results via file or enter manually")],-1)),u(s(b),{href:m.route("emas.results.index"),class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-colors"},{default:c(()=>[...t[3]||(t[3]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),n(" Back to Results ",-1)])]),_:1},8,["href"])]),e("div",U,[t[9]||(t[9]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Select Upload Method",-1)),e("div",S,[e("label",{class:a(["relative flex cursor-pointer rounded-lg border-2 p-4 transition-all",s(l).upload_method==="file"?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"])},[g(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=i=>s(l).upload_method=i),value:"file",class:"sr-only"},null,512),[[y,s(l).upload_method]]),e("div",N,[e("div",{class:a(["flex h-10 w-10 items-center justify-center rounded-lg",s(l).upload_method==="file"?"bg-emerald-100":"bg-gray-100"])},[(r(),o("svg",{class:a(["h-6 w-6",s(l).upload_method==="file"?"text-emerald-600":"text-gray-600"]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},null,-1)])],2))],2),t[6]||(t[6]=e("div",{class:"flex-1"},[e("p",{class:"font-semibold text-gray-900"},"Upload File"),e("p",{class:"mt-1 text-sm text-gray-500"},"Upload Excel or CSV file with results")],-1))])],2),e("label",{class:a(["relative flex cursor-pointer rounded-lg border-2 p-4 transition-all",s(l).upload_method==="manual"?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"])},[g(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=i=>s(l).upload_method=i),value:"manual",class:"sr-only"},null,512),[[y,s(l).upload_method]]),e("div",R,[e("div",{class:a(["flex h-10 w-10 items-center justify-center rounded-lg",s(l).upload_method==="manual"?"bg-emerald-100":"bg-gray-100"])},[(r(),o("svg",{class:a(["h-6 w-6",s(l).upload_method==="manual"?"text-emerald-600":"text-gray-600"]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},null,-1)])],2))],2),t[8]||(t[8]=e("div",{class:"flex-1"},[e("p",{class:"font-semibold text-gray-900"},"Manual Entry"),e("p",{class:"mt-1 text-sm text-gray-500"},"Enter results manually one by one")],-1))])],2)])]),e("form",{onSubmit:M(w,["prevent"]),class:"space-y-6"},[e("div",z,[t[12]||(t[12]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Select Exam",-1)),e("div",A,[t[11]||(t[11]=e("label",{for:"exam_id",class:"block text-sm font-medium text-gray-700 mb-1"},"Examination *",-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>s(l).exam_id=i),id:"exam_id",required:"",class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"},[...t[10]||(t[10]=[e("option",{value:""},"Select Exam",-1),e("option",{value:"1"},"Mathematics Final Exam - MATH-2025-001",-1),e("option",{value:"2"},"English Language Exam - ENG-2025-002",-1),e("option",{value:"3"},"Physics Practical Exam - PHY-2025-003",-1),e("option",{value:"4"},"Chemistry Theory - CHEM-2025-004",-1),e("option",{value:"5"},"Biology Practical - BIO-2025-005",-1)])],512),[[C,s(l).exam_id]]),s(l).errors.exam_id?(r(),o("p",H,p(s(l).errors.exam_id),1)):d("",!0)])]),s(l).upload_method==="file"?(r(),o("div",F,[t[16]||(t[16]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Upload Results File",-1)),e("div",D,[e("div",I,[e("label",L,[e("div",P,[t[13]||(t[13]=e("svg",{class:"w-12 h-12 mb-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t[14]||(t[14]=e("p",{class:"mb-2 text-sm text-gray-500"},[e("span",{class:"font-semibold"},"Click to upload"),n(" or drag and drop")],-1)),t[15]||(t[15]=e("p",{class:"text-xs text-gray-500"},"Excel (.xlsx, .xls) or CSV files (MAX. 10MB)",-1)),x.value?(r(),o("p",T,"Selected: "+p(x.value),1)):d("",!0)]),e("input",{ref_key:"fileInput",ref:h,type:"file",class:"hidden",accept:".xlsx,.xls,.csv",onChange:v},null,544)])]),s(l).errors.file?(r(),o("p",q,p(s(l).errors.file),1)):d("",!0)]),t[17]||(t[17]=e("div",{class:"rounded-lg bg-blue-50 border border-blue-200 p-4"},[e("div",{class:"flex items-start gap-3"},[e("svg",{class:"h-5 w-5 text-blue-600 mt-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"flex-1"},[e("p",{class:"text-sm font-medium text-blue-900"},"Need a template?"),e("p",{class:"mt-1 text-sm text-blue-700"},"Download our Excel template to ensure your file is formatted correctly."),e("button",{type:"button",class:"mt-2 inline-flex items-center gap-2 text-sm font-semibold text-blue-600 hover:text-blue-700"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),n(" Download Template ")])])])],-1))])):d("",!0),s(l).upload_method==="manual"?(r(),o("div",G,[...t[18]||(t[18]=[e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Enter Results Manually",-1),e("div",{class:"space-y-4"},[e("div",{class:"grid gap-4 sm:grid-cols-3"},[e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Registration Number"),e("input",{type:"text",class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",placeholder:"CND-2025-001234"})]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Score (out of 100)"),e("input",{type:"number",min:"0",max:"100",class:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",placeholder:"85"})]),e("div",{class:"flex items-end"},[e("button",{type:"button",class:"w-full rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 transition-colors"}," Add Result ")])]),e("div",{class:"mt-6 rounded-lg border border-gray-200 overflow-hidden"},[e("div",{class:"bg-gray-50 px-4 py-3 border-b border-gray-200"},[e("p",{class:"text-sm font-medium text-gray-700"},"Added Results (0)")]),e("div",{class:"p-8 text-center text-gray-500"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"mt-2 text-sm"},"No results added yet")])])],-1)])])):d("",!0),e("div",O,[u(s(b),{href:m.route("emas.results.index"),class:"rounded-lg border border-gray-300 bg-white px-6 py-2.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 transition-colors"},{default:c(()=>[...t[19]||(t[19]=[n(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(l).processing||!s(l).exam_id||s(l).upload_method==="file"&&!s(l).file,class:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700 transition-colors disabled:opacity-50"},[s(l).processing?(r(),o("svg",Y,[...t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):d("",!0),n(" "+p(s(l).processing?"Uploading...":"Upload Results"),1)],8,X)])],32)])]),_:1})],64))}};export{W as default};
