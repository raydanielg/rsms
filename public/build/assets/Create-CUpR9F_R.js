import{E as T,r as C,f as _,q as V,j as N,c as i,a as g,u as o,h as D,w as f,b as e,p as F,o as m,F as y,y as I,n as v,t as u,s as d,D as c,z as S}from"./app-B6qV5A7i.js";import{_ as U}from"./AuthenticatedLayout-CIuSAw6o.js";const B={class:"space-y-6"},E={class:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4"},M=["onClick"],z={class:"mt-2 text-sm text-slate-600"},L={key:0,class:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm"},P={class:"grid gap-4 sm:grid-cols-2"},$={class:"block text-sm font-medium text-slate-700"},q={class:"mt-4 flex items-center gap-2"},j=["disabled"],G={__name:"Create",setup(A){const p=[{key:"class",title:"Class Timetable",desc:"Lessons schedule per class",color:"bg-emerald-100 text-emerald-700 border-emerald-200"},{key:"exam",title:"Exams Timetable",desc:"Examination schedule",color:"bg-sky-100 text-sky-700 border-sky-200"},{key:"supervision",title:"Supervision Timetable",desc:"Invigilation/Proctoring plan",color:"bg-amber-100 text-amber-800 border-amber-200"},{key:"teacher",title:"Teacher Timetable",desc:"Individual teacher schedule",color:"bg-violet-100 text-violet-700 border-violet-200"}],k=T(),a=C(null),l=_({type:"",name:"",effective_date:"",scope_type:"class",scope_name:""}),b=V(()=>!!(a.value&&l.name&&l.effective_date));function x(r){a.value=r,l.scope_type=r.key==="teacher"?"teacher":"class",l.type=r.key}async function h(){b.value&&(l.type=a.value.key,l.post(route("timetables.store")))}return N(()=>{const r=k.props?.ziggy?.location||"";try{const s=new URL(r).searchParams.get("type"),n=p.find(w=>w.key===s);n&&x(n)}catch{}}),(r,t)=>(m(),i(y,null,[g(o(D),{title:"Create Timetable"}),g(U,null,{header:f(()=>[...t[5]||(t[5]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Create Timetable",-1)])]),default:f(()=>[e("div",B,[e("div",null,[t[6]||(t[6]=e("div",{class:"mb-2 text-sm font-medium text-slate-700"},"Choose Timetable Type",-1)),e("div",E,[(m(),i(y,null,I(p,s=>e("button",{key:s.key,type:"button",onClick:n=>x(s),class:v(["group rounded-xl border p-4 text-left shadow-sm hover:shadow transition",a.value&&a.value.key===s.key?"ring-2 ring-green-500":"border-slate-200"])},[e("div",{class:v(["inline-flex items-center rounded-md px-2 py-1 text-xs font-semibold",s.color])},u(s.title),3),e("div",z,u(s.desc),1)],10,M)),64))])]),a.value?(m(),i("div",L,[t[11]||(t[11]=e("div",{class:"mb-3 text-sm font-medium text-slate-700"},"Timetable Details",-1)),e("div",P,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-slate-700"},"Timetable Name",-1)),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o(l).name=s),type:"text",class:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-green-600 focus:ring-green-600",placeholder:"e.g., Form II A - Term 1"},null,512),[[c,o(l).name,void 0,{trim:!0}]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-slate-700"},"Date",-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o(l).date=s),type:"date",class:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-green-600 focus:ring-green-600"},null,512),[[c,o(l).date]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-slate-700"},"Scope",-1)),d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o(l).scopeType=s),class:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-green-600 focus:ring-green-600"},[...t[9]||(t[9]=[e("option",{value:"class"},"Class",-1),e("option",{value:"teacher"},"Teacher",-1)])],512),[[S,o(l).scopeType]])]),e("div",null,[e("label",$,u(o(l).scopeType==="class"?"Class Name":"Teacher Name"),1),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o(l).scopeValue=s),type:"text",class:"mt-1 w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-green-600 focus:ring-green-600",placeholder:"e.g., Form I B or Mr. John"},null,512),[[c,o(l).scopeValue,void 0,{trim:!0}]])])]),e("div",q,[e("button",{onClick:h,disabled:!b.value,class:"inline-flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 disabled:opacity-60"},"Create",8,j),e("button",{onClick:t[4]||(t[4]=s=>a.value=null),class:"inline-flex items-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50"},"Cancel")])])):F("",!0)])]),_:1})],64))}};export{G as default};
