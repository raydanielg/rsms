import{p as w,c as l,a as x,u as s,m as _,w as f,b as e,l as c,e as g,s as h,z as m,i,G as u,o as d,t as a,B as U,F as y,k as C,A as V}from"./app-C42XF4l0.js";import{_ as A}from"./EmasLayout-CT7diuvK.js";import"./DropdownLink-C3nCCoGM.js";const B={class:"mx-auto max-w-4xl space-y-6"},N={class:"flex items-center justify-between"},E={class:"grid gap-6 sm:grid-cols-2"},M={class:"sm:col-span-2"},S={key:0,class:"mt-1 text-sm text-red-600"},j=["value"],F={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},P={key:0,class:"mt-1 text-sm text-red-600"},T={key:0,class:"mt-1 text-sm text-red-600"},q={class:"max-h-64 space-y-2 overflow-y-auto rounded-lg border border-gray-300 p-4"},z=["value"],G={class:"flex-1"},L={class:"font-medium text-gray-900"},O={class:"text-sm text-gray-500"},$={key:0,class:"rounded-full bg-emerald-100 px-2 py-1 text-xs font-semibold text-emerald-800"},H={key:0,class:"mt-1 text-sm text-red-600"},J={class:"flex justify-end gap-4 border-t pt-6"},K=["disabled"],Q={key:0},R={key:1},Z={__name:"Edit",props:{coordinator:Object,centers:Array},setup(p){const n=p,r=w({full_name:n.coordinator.full_name,email:n.coordinator.email||"",phone:n.coordinator.phone||"",id_number:n.coordinator.id_number||"",address:n.coordinator.address||"",status:n.coordinator.status,centers:n.coordinator.centers.map(b=>b.id)}),v=()=>{r.put(route("emas.coordinators.update",n.coordinator.id))};return(b,t)=>(d(),l(y,null,[x(s(_),{title:"Edit Coordinator"}),x(A,null,{default:f(()=>[e("div",B,[e("div",N,[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Coordinator"),e("p",{class:"mt-1 text-sm text-gray-600"},"Update coordinator information")],-1)),x(s(c),{href:b.route("emas.coordinators.index"),class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50"},{default:f(()=>[...t[7]||(t[7]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),g(" Back ",-1)])]),_:1},8,["href"])]),e("form",{onSubmit:h(v,["prevent"]),class:"space-y-6 rounded-lg bg-white p-8 shadow-sm"},[e("div",null,[t[18]||(t[18]=e("h2",{class:"mb-4 text-lg font-bold text-gray-900"},"Personal Information",-1)),e("div",E,[e("div",M,[t[9]||(t[9]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},[g(" Full Name "),e("span",{class:"text-red-500"},"*")],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(r).full_name=o),type:"text",required:"",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).full_name]]),s(r).errors.full_name?(d(),l("div",S,a(s(r).errors.full_name),1)):i("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Username",-1)),e("input",{value:p.coordinator.username,type:"text",disabled:"",class:"w-full rounded-lg border-gray-300 bg-gray-100 shadow-sm cursor-not-allowed"},null,8,j),t[11]||(t[11]=e("p",{class:"mt-1 text-xs text-gray-500"},"Username cannot be changed",-1))]),e("div",null,[t[13]||(t[13]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Status",-1)),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(r).status=o),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},[...t[12]||(t[12]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],512),[[U,s(r).status]]),s(r).errors.status?(d(),l("div",F,a(s(r).errors.status),1)):i("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Email",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(r).email=o),type:"email",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).email]]),s(r).errors.email?(d(),l("div",D,a(s(r).errors.email),1)):i("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Phone",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(r).phone=o),type:"tel",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).phone]]),s(r).errors.phone?(d(),l("div",I,a(s(r).errors.phone),1)):i("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"ID Number",-1)),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(r).id_number=o),type:"text",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).id_number]]),s(r).errors.id_number?(d(),l("div",P,a(s(r).errors.id_number),1)):i("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Address",-1)),m(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>s(r).address=o),rows:"3",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[u,s(r).address]]),s(r).errors.address?(d(),l("div",T,a(s(r).errors.address),1)):i("",!0)])])]),e("div",null,[t[21]||(t[21]=e("h2",{class:"mb-4 text-lg font-bold text-gray-900"},"Center Assignment",-1)),e("div",null,[t[19]||(t[19]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},[g(" Assign Centers "),e("span",{class:"text-red-500"},"*")],-1)),t[20]||(t[20]=e("p",{class:"mb-3 text-xs text-gray-600"}," Select one or more centers. The first selected center will be the primary center. ",-1)),e("div",q,[(d(!0),l(y,null,C(p.centers,o=>(d(),l("label",{key:o.id,class:"flex items-start gap-3 rounded-lg p-3 hover:bg-gray-50 cursor-pointer"},[m(e("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":t[6]||(t[6]=k=>s(r).centers=k),class:"mt-0.5 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,8,z),[[V,s(r).centers]]),e("div",G,[e("div",L,a(o.center_name),1),e("div",O,"Code: "+a(o.center_code),1)]),s(r).centers[0]===o.id?(d(),l("span",$," Primary ")):i("",!0)]))),128))]),s(r).errors.centers?(d(),l("div",H,a(s(r).errors.centers),1)):i("",!0)])]),e("div",J,[x(s(c),{href:b.route("emas.coordinators.index"),class:"rounded-lg border border-gray-300 px-6 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50"},{default:f(()=>[...t[22]||(t[22]=[g(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(r).processing,class:"rounded-lg bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-50"},[s(r).processing?(d(),l("span",R,"Updating...")):(d(),l("span",Q,"Update Coordinator"))],8,K)])],32)])]),_:1})],64))}};export{Z as default};
