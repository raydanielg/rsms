import{E as M,r as n,j,q as T,c as a,a as u,p as v,u as y,h as D,w as f,b as t,s as A,D as B,o as d,F as w,y as $,t as r,e as i,l as F,d as N}from"./app-DNYa2hul.js";import{_ as V}from"./AuthenticatedLayout-BN1S8OU1.js";const S={class:"flex items-center justify-between"},z={class:"space-y-4"},I={class:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm"},L={class:"mb-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},P={class:"flex items-center gap-2"},E={class:"relative"},G={class:"overflow-x-auto"},q={class:"min-w-full text-sm"},H={class:"divide-y divide-slate-100"},J={class:"px-3 py-2 text-slate-800"},U={class:"px-3 py-2 text-slate-800"},Z={class:"px-3 py-2"},K={class:"flex items-center gap-2"},O=["onClick"],Q=["onClick"],R={key:0},W={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"},X={class:"w-full max-w-4xl overflow-hidden rounded-xl bg-white shadow-xl"},Y={class:"flex items-center justify-between border-b px-4 py-3"},tt={class:"text-sm font-semibold text-slate-800"},et={class:"flex items-center gap-2"},st={class:"max-h-[70vh] overflow-auto p-4"},lt={class:"text-lg font-semibold text-slate-800"},nt={__name:"Class",setup(ot){const c=M(),m=n([]);j(()=>{c.props&&Array.isArray(c.props.items)&&(m.value=c.props.items)});const x=n(""),h=T(()=>{const s=x.value.trim().toLowerCase();return s?m.value.filter(e=>(e.name||"").toLowerCase().includes(s)):m.value}),o=n(null),p=n(!1);function g(s){o.value=s,p.value=!0}function k(s){const e=new Date().toLocaleString();return`<!doctype html>
  <html><head><meta charset="utf-8" />
  <title>${s.name} â€” Class Timetable</title>
  <style>body{font-family:Arial,system-ui,sans-serif;margin:24px;color:#0f172a}h1{font-size:20px;margin:0 0 8px}.meta{font-size:12px;color:#475569;margin-bottom:16px}table{width:100%;border-collapse:collapse;font-size:12px}th,td{border:1px solid #cbd5e1;padding:8px}th{background:#f1f5f9;text-align:left}</style>
  </head><body>
  <h1>${s.name}</h1>
  <div class="meta">Generated: ${e}</div>
  <table><thead><tr><th>Day</th><th>Time</th><th>Class</th><th>Subject</th><th>Teacher</th></tr></thead>
  <tbody>
    <tr><td>Monday</td><td>08:00 - 09:00</td><td>Form I A</td><td>Mathematics</td><td>Mr. John</td></tr>
    <tr><td>Monday</td><td>09:00 - 10:00</td><td>Form I A</td><td>English</td><td>Ms. Grace</td></tr>
  </tbody></table>
  </body></html>`}function b(s){const e=window.open("","_blank","noopener,noreferrer");e&&(e.document.open(),e.document.write(k(s)),e.document.close(),setTimeout(()=>{try{e.focus(),e.print()}catch{}},250))}return(s,e)=>(d(),a(w,null,[u(y(D),{title:"Class Timetables"}),u(V,null,{header:f(()=>[t("div",S,[e[4]||(e[4]=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Class Timetables",-1)),u(y(F),{href:s.route("timetables.create",{type:"class"}),class:"inline-flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700"},{default:f(()=>[...e[3]||(e[3]=[t("svg",{class:"mr-2 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),i(" Create ",-1)])]),_:1},8,["href"])])]),default:f(()=>[t("div",z,[t("div",I,[t("div",L,[e[6]||(e[6]=t("div",{class:"text-sm font-medium text-slate-700"},"Latest Class Timetables",-1)),t("div",P,[t("div",E,[A(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>x.value=l),type:"text",placeholder:"Search...",class:"w-full sm:w-64 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-green-600 focus:ring-green-600"},null,512),[[B,x.value,void 0,{trim:!0}]]),e[5]||(e[5]=t("svg",{class:"pointer-events-none absolute right-2 top-2.5 h-4 w-4 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-4.35-4.35M11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14z"})],-1))])])]),t("div",G,[t("table",q,[e[11]||(e[11]=t("thead",{class:"bg-slate-50 text-slate-700"},[t("tr",null,[t("th",{class:"px-3 py-2 text-left font-semibold"},"#"),t("th",{class:"px-3 py-2 text-left font-semibold"},"Timetable Name"),t("th",{class:"px-3 py-2 text-left font-semibold"},"Category"),t("th",{class:"px-3 py-2 text-left font-semibold"},"Actions")])],-1)),t("tbody",H,[(d(!0),a(w,null,$(h.value,(l,_)=>(d(),a("tr",{key:l.id,class:"hover:bg-slate-50"},[t("td",J,r(_+1),1),t("td",U,r(l.name),1),e[9]||(e[9]=t("td",{class:"px-3 py-2 text-slate-700"},[t("span",{class:"inline-flex items-center rounded-full bg-emerald-100 px-2 py-0.5 text-xs font-semibold text-emerald-700"},"Class")],-1)),t("td",Z,[t("div",K,[t("button",{onClick:C=>g(l),class:"inline-flex items-center rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-50"},[...e[7]||(e[7]=[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2 12s4-7 10-7 10 7 10 7-4 7-10 7-10-7-10-7Z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1),i(" View ",-1)])],8,O),t("button",{onClick:C=>b(l),class:"inline-flex items-center rounded-md bg-sky-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-sky-700"},[...e[8]||(e[8]=[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v12m0 0 4-4m-4 4-4-4M4 21h16"})],-1),i(" Download ",-1)])],8,Q)])])]))),128)),h.value.length?v("",!0):(d(),a("tr",R,[...e[10]||(e[10]=[t("td",{colspan:"4",class:"px-3 py-6 text-center text-slate-500"},"No class timetables yet.",-1)])]))])])])])])]),_:1}),p.value?(d(),a("div",W,[t("div",X,[t("div",Y,[t("div",tt,"Preview: "+r(o.value&&o.value.name),1),t("div",et,[t("button",{onClick:e[1]||(e[1]=l=>b(o.value)),class:"inline-flex items-center rounded-md bg-sky-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-sky-700"},[...e[12]||(e[12]=[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v12m0 0 4-4m-4 4-4-4M4 21h16"})],-1),i(" Download (PDF) ",-1)])]),t("button",{onClick:e[2]||(e[2]=l=>p.value=!1),class:"inline-flex items-center rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50"},"Close")])]),t("div",st,[t("div",lt,r(o.value&&o.value.name),1),e[13]||(e[13]=N('<div class="mb-3 text-xs text-slate-500">Preview example layout</div><div class="overflow-x-auto"><table class="min-w-full text-sm"><thead class="bg-slate-50"><tr><th class="px-3 py-2 text-left font-semibold text-slate-700">Day</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Time</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Class</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Subject</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Teacher</th></tr></thead><tbody class="divide-y divide-slate-100"><tr><td class="px-3 py-2">Monday</td><td class="px-3 py-2">08:00 - 09:00</td><td class="px-3 py-2">Form I A</td><td class="px-3 py-2">Mathematics</td><td class="px-3 py-2">Mr. John</td></tr><tr><td class="px-3 py-2">Monday</td><td class="px-3 py-2">09:00 - 10:00</td><td class="px-3 py-2">Form I A</td><td class="px-3 py-2">English</td><td class="px-3 py-2">Ms. Grace</td></tr></tbody></table></div>',2))])])])):v("",!0)],64))}};export{nt as default};
