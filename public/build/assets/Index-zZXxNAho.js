import{r as f,h as I,x as C,p as q,c as a,a as w,u as r,m as T,w as y,b as e,i as m,e as i,t as d,z as x,G as h,B as S,o as l,F as M,k as z,n as _,q as B,l as V,M as L,s as A}from"./app-C42XF4l0.js";import{_ as $}from"./EmasLayout-CT7diuvK.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C3nCCoGM.js";const O={class:"space-y-6"},G={class:"grid gap-4 sm:grid-cols-3"},K={class:"rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 p-6 shadow-lg"},Q={class:"mt-2 text-4xl font-black text-white"},J={class:"rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 shadow-lg"},P={class:"mt-2 text-4xl font-black text-white"},R={class:"rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 p-6 shadow-lg"},W={class:"mt-2 text-4xl font-black text-white"},X={class:"rounded-lg bg-white p-4 shadow-sm border border-gray-200"},Y={class:"flex flex-wrap items-center gap-4"},Z={class:"flex-1 min-w-[200px]"},ee={class:"min-w-[150px]"},te={key:0,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},se={class:"flex items-start justify-between mb-4"},oe={class:"flex-1"},re={class:"text-xl font-black text-gray-900 group-hover:text-emerald-600 transition-colors"},le={class:"mt-1 text-sm font-bold text-emerald-600"},ae={key:0,class:"text-sm text-gray-600 mb-4 line-clamp-2"},de={key:1,class:"text-sm text-gray-400 italic mb-4"},ne={class:"flex items-center gap-2 pt-4 border-t border-gray-200"},ie=["onClick"],ue=["onClick"],ce={key:1,class:"rounded-xl bg-white p-12 text-center shadow-sm border-2 border-gray-200"},me={key:2,class:"flex items-center justify-between rounded-lg bg-white px-6 py-4 shadow-sm border border-gray-200"},be={class:"text-sm text-gray-700"},ge={class:"font-bold text-gray-900"},xe={class:"font-bold text-gray-900"},pe={class:"font-bold text-gray-900"},ve={class:"flex gap-2"},fe={key:1,class:"rounded-lg border-2 border-gray-200 px-4 py-2 text-sm font-bold text-gray-400 cursor-not-allowed"},ye={key:3,class:"rounded-lg border-2 border-gray-200 px-4 py-2 text-sm font-bold text-gray-400 cursor-not-allowed"},he={class:"flex min-h-screen items-center justify-center p-4"},we={class:"relative w-full max-w-2xl transform rounded-2xl bg-white p-8 shadow-2xl transition-all"},ke={class:"mb-6"},je={class:"text-2xl font-black text-gray-900"},Ce={class:"text-sm text-gray-600 mt-1"},Se={key:0,class:"mt-1 text-sm text-red-600"},Me={key:0,class:"mt-1 text-sm text-red-600"},_e={key:0,class:"mt-1 text-sm text-red-600"},Be={key:0,class:"mt-1 text-sm text-red-600"},Ve={class:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200"},Ae=["disabled"],Ne={key:0},Ue={key:1},Ee={__name:"Index",props:{subjects:Object,filters:Object},setup(n){const k=n,b=f(k.filters?.search||""),g=f(k.filters?.status||"");I([b,g],()=>{C.get(route("emas.subjects.index"),{search:b.value,status:g.value},{preserveState:!0,replace:!0})});const N=()=>{b.value="",g.value=""},v=f(!1),u=f(null),s=q({name:"",code:"",description:"",status:"active"}),j=()=>{u.value=null,s.reset(),s.clearErrors(),v.value=!0},U=c=>{u.value=c,s.name=c.name,s.code=c.code,s.description=c.description||"",s.status=c.status,s.clearErrors(),v.value=!0},p=()=>{v.value=!1,u.value=null,s.reset(),s.clearErrors()},E=()=>{u.value?s.put(route("emas.subjects.update",u.value.id),{onSuccess:()=>p()}):s.post(route("emas.subjects.store"),{onSuccess:()=>p()})},F=c=>{confirm(`Are you sure you want to delete "${c.name}"?`)&&C.delete(route("emas.subjects.destroy",c.id))};return(c,t)=>(l(),a(M,null,[w(r(T),{title:"Masomo - Subjects"}),w($,null,{default:y(()=>[e("div",O,[e("div",{class:"flex items-center justify-between"},[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-3xl font-black text-gray-900"},"Masomo"),e("p",{class:"text-sm text-gray-600 mt-1"},"Manage examination subjects")],-1)),e("button",{onClick:j,class:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 px-6 py-3 text-white font-bold transition-colors shadow-lg hover:shadow-xl"},[...t[6]||(t[6]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),i(" Add New Subject ",-1)])])]),e("div",G,[e("div",K,[t[8]||(t[8]=e("p",{class:"text-sm font-semibold text-emerald-100"},"Total Subjects",-1)),e("p",Q,d(n.subjects.total),1)]),e("div",J,[t[9]||(t[9]=e("p",{class:"text-sm font-semibold text-blue-100"},"Active",-1)),e("p",P,d(n.subjects.data.filter(o=>o.status==="active").length),1)]),e("div",R,[t[10]||(t[10]=e("p",{class:"text-sm font-semibold text-orange-100"},"Inactive",-1)),e("p",W,d(n.subjects.data.filter(o=>o.status==="inactive").length),1)])]),e("div",X,[e("div",Y,[e("div",Z,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>b.value=o),type:"text",placeholder:"Search by name or code...",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[h,b.value]])]),e("div",ee,[x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>g.value=o),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},[...t[11]||(t[11]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],512),[[S,g.value]])]),b.value||g.value?(l(),a("button",{key:0,onClick:N,class:"rounded-lg border-2 border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-colors"}," Clear Filters ")):m("",!0)])]),n.subjects.data&&n.subjects.data.length>0?(l(),a("div",te,[(l(!0),a(M,null,z(n.subjects.data,o=>(l(),a("div",{key:o.id,class:"group rounded-xl bg-white p-6 shadow-md border-2 border-gray-200 hover:border-emerald-500 hover:shadow-xl transition-all duration-200"},[e("div",se,[e("div",oe,[e("h3",re,d(o.name),1),e("p",le,d(o.code),1)]),e("span",{class:_([o.status==="active"?"bg-emerald-100 text-emerald-700":"bg-orange-100 text-orange-700","inline-flex items-center rounded-full px-3 py-1 text-xs font-bold uppercase"])},d(o.status),3)]),o.description?(l(),a("p",ae,d(o.description),1)):(l(),a("p",de,"No description available")),e("div",ne,[e("button",{onClick:H=>U(o),class:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white font-bold transition-colors"},[...t[12]||(t[12]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),i(" Edit ",-1)])],8,ie),e("button",{onClick:H=>F(o),class:"rounded-lg border-2 border-red-300 px-4 py-2 text-red-600 hover:bg-red-50 font-bold transition-colors"},[...t[13]||(t[13]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ue)])]))),128))])):(l(),a("div",ce,[t[15]||(t[15]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),t[16]||(t[16]=e("h3",{class:"text-lg font-bold text-gray-900 mb-2"},"Hakuna Masomo",-1)),t[17]||(t[17]=e("p",{class:"text-gray-600 mb-4"},"Start by adding your first subject",-1)),e("button",{onClick:j,class:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 px-6 py-3 text-white font-bold transition-colors"},[...t[14]||(t[14]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),i(" Add First Subject ",-1)])])])),n.subjects.data&&n.subjects.data.length>0?(l(),a("div",me,[e("div",be,[t[18]||(t[18]=i(" Kuonyesha ",-1)),e("span",ge,d(n.subjects.from),1),t[19]||(t[19]=i(" hadi ",-1)),e("span",xe,d(n.subjects.to),1),t[20]||(t[20]=i(" kati ya ",-1)),e("span",pe,d(n.subjects.total),1),t[21]||(t[21]=i(" masomo ",-1))]),e("div",ve,[n.subjects.prev_page_url?(l(),B(r(V),{key:0,href:n.subjects.prev_page_url,class:"rounded-lg border-2 border-gray-300 px-4 py-2 text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors","preserve-scroll":""},{default:y(()=>[...t[22]||(t[22]=[i(" Nyuma ",-1)])]),_:1},8,["href"])):(l(),a("span",fe," Nyuma ")),n.subjects.next_page_url?(l(),B(r(V),{key:2,href:n.subjects.next_page_url,class:"rounded-lg border-2 border-gray-300 px-4 py-2 text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors","preserve-scroll":""},{default:y(()=>[...t[23]||(t[23]=[i(" Mbele ",-1)])]),_:1},8,["href"])):(l(),a("span",ye," Mbele "))])])):m("",!0)]),w(L,{name:"modal"},{default:y(()=>[v.value?(l(),a("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:A(p,["self"])},[e("div",he,[t[31]||(t[31]=e("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),e("div",we,[e("button",{onClick:p,class:"absolute top-4 right-4 rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors"},[...t[24]||(t[24]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e("div",ke,[e("h2",je,d(u.value?"Edit Subject":"Add New Subject"),1),e("p",Ce,d(u.value?"Update subject information":"Create a new examination subject"),1)]),e("form",{onSubmit:A(E,["prevent"]),class:"space-y-5"},[e("div",null,[t[25]||(t[25]=e("label",{for:"modal-name",class:"block text-sm font-bold text-gray-700 mb-2"},[i(" Subject Name "),e("span",{class:"text-red-600"},"*")],-1)),x(e("input",{id:"modal-name","onUpdate:modelValue":t[2]||(t[2]=o=>r(s).name=o),type:"text",required:"",placeholder:"e.g., Mathematics",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[h,r(s).name]]),r(s).errors.name?(l(),a("p",Se,d(r(s).errors.name),1)):m("",!0)]),e("div",null,[t[26]||(t[26]=e("label",{for:"modal-code",class:"block text-sm font-bold text-gray-700 mb-2"},[i(" Subject Code "),e("span",{class:"text-red-600"},"*")],-1)),x(e("input",{id:"modal-code","onUpdate:modelValue":t[3]||(t[3]=o=>r(s).code=o),type:"text",required:"",placeholder:"e.g., MATH",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 uppercase"},null,512),[[h,r(s).code]]),r(s).errors.code?(l(),a("p",Me,d(r(s).errors.code),1)):m("",!0),t[27]||(t[27]=e("p",{class:"mt-1 text-xs text-gray-500"},"Unique code to identify this subject",-1))]),e("div",null,[t[28]||(t[28]=e("label",{for:"modal-description",class:"block text-sm font-bold text-gray-700 mb-2"}," Description ",-1)),x(e("textarea",{id:"modal-description","onUpdate:modelValue":t[4]||(t[4]=o=>r(s).description=o),rows:"3",placeholder:"Enter subject description...",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},null,512),[[h,r(s).description]]),r(s).errors.description?(l(),a("p",_e,d(r(s).errors.description),1)):m("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{for:"modal-status",class:"block text-sm font-bold text-gray-700 mb-2"},[i(" Status "),e("span",{class:"text-red-600"},"*")],-1)),x(e("select",{id:"modal-status","onUpdate:modelValue":t[5]||(t[5]=o=>r(s).status=o),required:"",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"},[...t[29]||(t[29]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],512),[[S,r(s).status]]),r(s).errors.status?(l(),a("p",Be,d(r(s).errors.status),1)):m("",!0)]),e("div",Ve,[e("button",{type:"button",onClick:p,class:"rounded-lg border-2 border-gray-300 px-6 py-2.5 text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:r(s).processing,class:_([u.value?"bg-blue-600 hover:bg-blue-700":"bg-emerald-600 hover:bg-emerald-700","rounded-lg px-6 py-2.5 text-white font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed"])},[r(s).processing?(l(),a("span",Ne,d(u.value?"Updating...":"Saving..."),1)):(l(),a("span",Ue,d(u.value?"Update Subject":"Save Subject"),1))],10,Ae)])],32)])])])):m("",!0)]),_:1})]),_:1})],64))}},Te=D(Ee,[["__scopeId","data-v-3a9c269a"]]);export{Te as default};
