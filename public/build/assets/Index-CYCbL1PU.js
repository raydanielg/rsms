import{r as m,E as C,j as T,q as j,c as l,a as u,p as b,u as v,h as A,w as h,b as t,s as B,D as I,l as F,e as a,o as d,F as g,y as D,t as r,n as S,d as $}from"./app-DNYa2hul.js";import{_ as E}from"./AuthenticatedLayout-BN1S8OU1.js";const N={class:"space-y-4"},V={class:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm"},z={class:"mb-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},P={class:"flex flex-col gap-2 sm:flex-row sm:items-center"},L={class:"relative"},G={class:"overflow-x-auto"},J={class:"min-w-full text-sm"},q={class:"divide-y divide-slate-100"},H={class:"px-3 py-2 text-slate-800"},U={class:"px-3 py-2 text-slate-800"},W={class:"px-3 py-2 text-slate-700"},Z={class:"px-3 py-2"},K={class:"flex items-center gap-2"},O=["onClick"],Q=["onClick"],R={key:0},X={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"},Y={class:"w-full max-w-4xl overflow-hidden rounded-xl bg-white shadow-xl"},tt={class:"flex items-center justify-between border-b px-4 py-3"},et={class:"text-sm font-semibold text-slate-800"},st={class:"flex items-center gap-2"},ot={class:"max-h-[70vh] overflow-auto p-4"},lt={class:"text-lg font-semibold text-slate-800"},nt={__name:"Index",setup(at){const c=m([{id:1,name:"Term 1 Timetable",category:"Class"},{id:2,name:"Midterm Exams Timetable",category:"Exams"},{id:3,name:"Invigilation (Form II)",category:"Supervision"},{id:4,name:"Mr. John — Weekly",category:"Teacher"}]),n=C();T(()=>{n.props&&Array.isArray(n.props.items)&&n.props.items.length&&(c.value=n.props.items)});const x=m(""),f=j(()=>{const o=x.value.trim().toLowerCase();return o?c.value.filter(e=>(e.name||"").toLowerCase().includes(o)):c.value}),i=m(null),p=m(!1);function w(o){i.value=o,p.value=!0}function k(o){const e=new Date().toLocaleString();return`<!doctype html>
  <html>
  <head>
    <meta charset="utf-8" />
    <title>${o.name} — Timetable</title>
    <style>
      body { font-family: Arial, system-ui, sans-serif; margin: 24px; color: #0f172a; }
      h1 { font-size: 20px; margin: 0 0 8px; }
      .meta { font-size: 12px; color: #475569; margin-bottom: 16px; }
      table { width: 100%; border-collapse: collapse; font-size: 12px; }
      th, td { border: 1px solid #cbd5e1; padding: 8px; }
      th { background: #f1f5f9; text-align: left; }
    </style>
  </head>
  <body>
    <h1>${o.name}</h1>
    <div class="meta">Generated: ${e}</div>
    <table>
      <thead>
        <tr><th>Day</th><th>Time</th><th>Class</th><th>Subject</th><th>Teacher</th></tr>
      </thead>
      <tbody>
        <tr><td>Monday</td><td>08:00 - 09:00</td><td>Form I A</td><td>Mathematics</td><td>Mr. John</td></tr>
        <tr><td>Monday</td><td>09:00 - 10:00</td><td>Form I A</td><td>English</td><td>Ms. Grace</td></tr>
        <tr><td>Tuesday</td><td>08:00 - 09:00</td><td>Form I A</td><td>Biology</td><td>Mr. Musa</td></tr>
      </tbody>
    </table>
  </body>
  </html>`}function y(o){const e=window.open("","_blank","noopener,noreferrer");e&&(e.document.open(),e.document.write(k(o)),e.document.close(),setTimeout(()=>{try{e.focus(),e.print()}catch{}},250))}return(o,e)=>(d(),l(g,null,[u(v(A),{title:"Timetables"}),u(E,null,{header:h(()=>[...e[3]||(e[3]=[t("div",{class:"flex items-center justify-between"},[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"All Timetables")],-1)])]),default:h(()=>[t("div",N,[t("div",V,[t("div",z,[e[7]||(e[7]=t("div",{class:"text-sm font-medium text-slate-700"},"Timetables",-1)),t("div",P,[t("div",L,[B(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),type:"text",placeholder:"Search...",class:"w-full sm:w-64 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-green-600 focus:ring-green-600"},null,512),[[I,x.value,void 0,{trim:!0}]]),e[4]||(e[4]=t("svg",{class:"pointer-events-none absolute right-2 top-2.5 h-4 w-4 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-4.35-4.35M11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14z"})],-1))]),u(v(F),{href:o.route("timetables.create"),class:"inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700"},{default:h(()=>[...e[5]||(e[5]=[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),a(" Create ",-1)])]),_:1},8,["href"]),e[6]||(e[6]=t("button",{type:"button",class:"inline-flex items-center rounded-md bg-sky-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-sky-700"},[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v12m0 0 4-4m-4 4-4-4M4 21h16"})]),a(" Upload ")],-1))])]),t("div",G,[t("table",J,[e[11]||(e[11]=t("thead",{class:"bg-slate-50 text-slate-700"},[t("tr",null,[t("th",{class:"px-3 py-2 text-left font-semibold"},"#"),t("th",{class:"px-3 py-2 text-left font-semibold"},"Timetable Name"),t("th",{class:"px-3 py-2 text-left font-semibold"},"Category"),t("th",{class:"px-3 py-2 text-left font-semibold"},"Actions")])],-1)),t("tbody",q,[(d(!0),l(g,null,D(f.value,(s,_)=>(d(),l("tr",{key:s.id,class:"hover:bg-slate-50"},[t("td",H,r(_+1),1),t("td",U,r(s.name),1),t("td",W,[t("span",{class:S(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold",s.category==="Class"?"bg-emerald-100 text-emerald-700":s.category==="Exams"?"bg-sky-100 text-sky-700":s.category==="Supervision"?"bg-amber-100 text-amber-800":"bg-violet-100 text-violet-700"])},r(s.category),3)]),t("td",Z,[t("div",K,[t("button",{onClick:M=>w(s),class:"inline-flex items-center rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-50"},[...e[8]||(e[8]=[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2 12s4-7 10-7 10 7 10 7-4 7-10 7-10-7-10-7Z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1),a(" View ",-1)])],8,O),t("button",{onClick:M=>y(s),class:"inline-flex items-center rounded-md bg-sky-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-sky-700"},[...e[9]||(e[9]=[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v12m0 0 4-4m-4 4-4-4M4 21h16"})],-1),a(" Download ",-1)])],8,Q)])])]))),128)),f.value.length?b("",!0):(d(),l("tr",R,[...e[10]||(e[10]=[t("td",{colspan:"4",class:"px-3 py-6 text-center text-slate-500"},"No timetables yet.",-1)])]))])])])])])]),_:1}),p.value?(d(),l("div",X,[t("div",Y,[t("div",tt,[t("div",et,"Preview: "+r(i.value?.name),1),t("div",st,[t("button",{onClick:e[1]||(e[1]=s=>y(i.value)),class:"inline-flex items-center rounded-md bg-sky-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-sky-700"},[...e[12]||(e[12]=[t("svg",{class:"mr-1.5 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v12m0 0 4-4m-4 4-4-4M4 21h16"})],-1),a(" Download (PDF) ",-1)])]),t("button",{onClick:e[2]||(e[2]=s=>p.value=!1),class:"inline-flex items-center rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50"},"Close")])]),t("div",ot,[t("div",lt,r(i.value?.name),1),e[13]||(e[13]=$('<div class="mb-3 text-xs text-slate-500">Preview example layout</div><div class="overflow-x-auto"><table class="min-w-full text-sm"><thead class="bg-slate-50"><tr><th class="px-3 py-2 text-left font-semibold text-slate-700">Day</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Time</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Class</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Subject</th><th class="px-3 py-2 text-left font-semibold text-slate-700">Teacher</th></tr></thead><tbody class="divide-y divide-slate-100"><tr><td class="px-3 py-2">Monday</td><td class="px-3 py-2">08:00 - 09:00</td><td class="px-3 py-2">Form I A</td><td class="px-3 py-2">Mathematics</td><td class="px-3 py-2">Mr. John</td></tr><tr><td class="px-3 py-2">Monday</td><td class="px-3 py-2">09:00 - 10:00</td><td class="px-3 py-2">Form I A</td><td class="px-3 py-2">English</td><td class="px-3 py-2">Ms. Grace</td></tr><tr><td class="px-3 py-2">Tuesday</td><td class="px-3 py-2">08:00 - 09:00</td><td class="px-3 py-2">Form I A</td><td class="px-3 py-2">Biology</td><td class="px-3 py-2">Mr. Musa</td></tr></tbody></table></div>',2))])])])):b("",!0)],64))}};export{nt as default};
