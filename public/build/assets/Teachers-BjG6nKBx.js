import{r as n,g as b,v as T,c as r,a as y,u as C,m as M,w as _,b as e,i as p,o as l,e as S,t as a,z as w,F as x,k as v,B,G as z}from"./app-C42XF4l0.js";import{_ as N}from"./AuthenticatedLayout-BqSWkGMK.js";import"./DropdownLink-C3nCCoGM.js";const V={class:"space-y-6"},F={key:0,class:"rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800"},L={class:"grid gap-4 sm:grid-cols-3"},R={class:"rounded-xl border border-blue-100 bg-gradient-to-br from-blue-50 to-white p-6 shadow-sm"},q={class:"flex items-center justify-between"},A={class:"mt-2 text-3xl font-bold text-blue-900"},D={class:"rounded-xl border border-green-100 bg-gradient-to-br from-green-50 to-white p-6 shadow-sm"},E={class:"flex items-center justify-between"},H={class:"mt-2 text-3xl font-bold text-green-900"},U={class:"rounded-xl border border-pink-100 bg-gradient-to-br from-pink-50 to-white p-6 shadow-sm"},X={class:"flex items-center justify-between"},G={class:"mt-2 text-3xl font-bold text-pink-900"},P={class:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm"},Q={class:"border-b bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4"},W={class:"flex items-center justify-between"},$=["value"],I={class:"p-6"},J={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},K={class:"flex items-center justify-between"},O={class:"flex-1"},Y={class:"font-medium text-gray-900"},Z={class:"text-right"},ee={class:"text-2xl font-bold text-blue-600"},te={key:0,class:"col-span-full py-8 text-center text-sm text-gray-500"},se={class:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm"},oe={class:"border-b bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4"},re={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},le={class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200"},de={class:"divide-y divide-gray-100 bg-white"},ne={class:"whitespace-nowrap px-6 py-4"},ie={class:"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-sm font-medium text-blue-800"},ue={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},ce={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-600"},xe={key:0},ge={__name:"Teachers",setup(be){const d=n({total:0,male:0,female:0,by_subject:[],by_class:[]}),m=n(!1),i=n(""),u=n(""),c=n("");async function g(){m.value=!0,i.value="";try{const o=await fetch(route("api.reports.teachers"),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed");d.value=await o.json()}catch{i.value="Failed to load teachers report."}finally{m.value=!1}}const f=b(()=>{let o=d.value.by_class||[];if(u.value){const t=u.value.toLowerCase();o=o.filter(s=>s.class_name?.toLowerCase().includes(t)||s.teacher_name?.toLowerCase().includes(t))}return o}),h=b(()=>{let o=d.value.by_subject||[];return c.value&&(o=o.filter(t=>t.subject===c.value)),o}),k=b(()=>[...new Set((d.value.by_subject||[]).map(o=>o.subject))]);return T(g),(o,t)=>(l(),r(x,null,[y(C(M),{title:"Teachers Reports"}),y(N,null,{header:_(()=>[...t[2]||(t[2]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Teachers Reports",-1)])]),default:_(()=>[e("div",V,[i.value?(l(),r("div",F,[S(a(i.value)+" ",1),e("button",{onClick:g,class:"ml-2 rounded border border-rose-300 px-2 py-0.5 text-rose-700 hover:bg-rose-100"}," Retry ")])):p("",!0),e("div",L,[e("div",R,[e("div",q,[e("div",null,[t[3]||(t[3]=e("div",{class:"text-sm font-medium text-blue-600"},"Total Teachers",-1)),e("div",A,a(d.value.total),1)]),t[4]||(t[4]=e("div",{class:"rounded-full bg-blue-100 p-3"},[e("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))])]),e("div",D,[e("div",E,[e("div",null,[t[5]||(t[5]=e("div",{class:"text-sm font-medium text-green-600"},"Male Teachers",-1)),e("div",H,a(d.value.male),1)]),t[6]||(t[6]=e("div",{class:"rounded-full bg-green-100 p-3"},[e("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))])]),e("div",U,[e("div",X,[e("div",null,[t[7]||(t[7]=e("div",{class:"text-sm font-medium text-pink-600"},"Female Teachers",-1)),e("div",G,a(d.value.female),1)]),t[8]||(t[8]=e("div",{class:"rounded-full bg-pink-100 p-3"},[e("svg",{class:"h-8 w-8 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))])])]),e("div",P,[e("div",Q,[e("div",W,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Teachers by Subject",-1)),w(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),class:"rounded-lg border-gray-300 text-sm focus:border-blue-500 focus:ring-blue-500"},[t[9]||(t[9]=e("option",{value:""},"All Subjects",-1)),(l(!0),r(x,null,v(k.value,s=>(l(),r("option",{key:s,value:s},a(s),9,$))),128))],512),[[B,c.value]])])]),e("div",I,[e("div",J,[(l(!0),r(x,null,v(h.value,s=>(l(),r("div",{key:s.subject,class:"rounded-lg border border-gray-200 bg-gradient-to-br from-gray-50 to-white p-4 hover:shadow-md transition-shadow"},[e("div",K,[e("div",O,[e("div",Y,a(s.subject),1),t[11]||(t[11]=e("div",{class:"mt-1 text-sm text-gray-500"},"Subject",-1))]),e("div",Z,[e("div",ee,a(s.count),1),t[12]||(t[12]=e("div",{class:"text-xs text-gray-500"},"Teachers",-1))])])]))),128)),h.value.length===0?(l(),r("div",te," No subjects found ")):p("",!0)])])]),e("div",se,[e("div",oe,[e("div",re,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Class Teachers Assignment",-1)),w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),type:"search",placeholder:"Search teacher or class...",class:"rounded-lg border-gray-300 text-sm focus:border-purple-500 focus:ring-purple-500 sm:w-64"},null,512),[[z,u.value]])])]),e("div",le,[e("table",ae,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Class "),e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Teacher Name "),e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Phone ")])],-1)),e("tbody",de,[(l(!0),r(x,null,v(f.value,(s,j)=>(l(),r("tr",{key:j,class:"hover:bg-gray-50 transition-colors"},[e("td",ne,[e("span",ie,a(s.class_name||"—"),1)]),e("td",ue,a(s.teacher_name||"—"),1),e("td",ce,a(s.phone||"—"),1)]))),128)),f.value.length===0?(l(),r("tr",xe,[...t[14]||(t[14]=[e("td",{colspan:"3",class:"px-6 py-8 text-center text-sm text-gray-500"}," No teachers found ",-1)])])):p("",!0)])])])])])]),_:1})],64))}};export{ge as default};
