import{r as C,g as B,c as i,a as g,u,m as j,w as x,b as e,l as c,e as l,z as M,G as D,i as m,o as n,F as p,k as v,t as o,n as w,q as h}from"./app-C42XF4l0.js";import{_ as L}from"./MarkerLayout-ChJ5QZTM.js";import"./DropdownLink-C3nCCoGM.js";const N={class:"space-y-6"},V={class:"flex items-start justify-between"},H={class:"rounded-lg bg-gray-50 p-4"},z={class:"relative max-w-md"},S={class:"rounded-lg bg-white shadow-md overflow-hidden"},T={class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},G={class:"divide-y divide-gray-200 bg-white"},q={class:"whitespace-nowrap px-4 py-4 text-sm text-gray-500"},F={class:"px-4 py-4"},A={class:"text-sm font-medium text-gray-900"},R={class:"text-xs text-gray-500"},O={class:"px-4 py-4 text-sm text-gray-900"},P={class:"whitespace-nowrap px-4 py-4 text-sm font-medium text-gray-700"},Q={class:"whitespace-nowrap px-4 py-4 text-center text-sm font-bold text-gray-900"},U={class:"whitespace-nowrap px-4 py-4 text-center"},Y={class:"px-4 py-4 text-sm text-gray-600"},$={key:0,class:"text-center py-12"},I={class:"mt-1 text-sm text-gray-500"},J={key:1,class:"border-t border-gray-200 bg-gray-50 px-4 py-3"},K={class:"flex items-center justify-between"},W={class:"flex-1 flex justify-between sm:hidden"},X={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Z={class:"text-sm text-gray-700"},ee={class:"font-medium"},te={class:"font-medium"},se={class:"font-medium"},re={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},le={__name:"History",props:{history:{type:Object,required:!0}},setup(r){const f=r,d=C(""),b=B(()=>{if(!d.value)return f.history.data;const a=d.value.toLowerCase();return f.history.data.filter(t=>t.candidate?.full_name?.toLowerCase().includes(a)||t.candidate?.registration_number?.toLowerCase().includes(a)||t.exam?.exam_name?.toLowerCase().includes(a))}),k=a=>a?new Date(a).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"--",_=a=>({A:"bg-green-100 text-green-800",B:"bg-blue-100 text-blue-800",C:"bg-yellow-100 text-yellow-800",D:"bg-amber-100 text-amber-800",E:"bg-orange-100 text-orange-800",F:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return(a,t)=>(n(),i(p,null,[g(u(j),{title:"Marking History - EMAS"}),g(L,null,{default:x(()=>[e("div",N,[e("div",V,[e("div",null,[g(u(c),{href:a.route("emas.marker.dashboard"),class:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 mb-2"},{default:x(()=>[...t[1]||(t[1]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),l(" Back to Dashboard ",-1)])]),_:1},8,["href"]),t[2]||(t[2]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Marking History",-1)),t[3]||(t[3]=e("p",{class:"mt-1 text-sm text-gray-600"},"View all marks you have entered",-1))])]),e("div",H,[e("div",z,[t[4]||(t[4]=e("svg",{class:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),type:"text",placeholder:"Search by candidate name, reg. number, or exam...",class:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[D,d.value]])])]),e("div",S,[e("div",T,[e("table",E,[t[5]||(t[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Date & Time "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Exam "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Candidate "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Reg. Number "),e("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-500"}," Score "),e("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-500"}," Grade "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Remarks ")])],-1)),e("tbody",G,[(n(!0),i(p,null,v(b.value,s=>(n(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",q,o(k(s.updated_at)),1),e("td",F,[e("div",A,o(s.exam?.exam_name||"--"),1),e("div",R,o(s.exam?.subject||"--"),1)]),e("td",O,o(s.candidate?.full_name||"--"),1),e("td",P,o(s.candidate?.registration_number||"--"),1),e("td",Q,o(s.score),1),e("td",U,[e("span",{class:w(["inline-flex rounded-full px-2 py-1 text-xs font-semibold",_(s.grade)])},o(s.grade),3)]),e("td",Y,o(s.remarks||"--"),1)]))),128))])])]),b.value.length===0?(n(),i("div",$,[t[6]||(t[6]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[7]||(t[7]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No history found",-1)),e("p",I,o(d.value?"No marks match your search.":"You haven't entered any marks yet."),1)])):m("",!0),r.history.links&&r.history.links.length>3?(n(),i("div",J,[e("div",K,[e("div",W,[r.history.prev_page_url?(n(),h(u(c),{key:0,href:r.history.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:x(()=>[...t[8]||(t[8]=[l(" Previous ",-1)])]),_:1},8,["href"])):m("",!0),r.history.next_page_url?(n(),h(u(c),{key:1,href:r.history.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:x(()=>[...t[9]||(t[9]=[l(" Next ",-1)])]),_:1},8,["href"])):m("",!0)]),e("div",X,[e("div",null,[e("p",Z,[t[10]||(t[10]=l(" Showing ",-1)),e("span",ee,o(r.history.from),1),t[11]||(t[11]=l(" to ",-1)),e("span",te,o(r.history.to),1),t[12]||(t[12]=l(" of ",-1)),e("span",se,o(r.history.total),1),t[13]||(t[13]=l(" results ",-1))])]),e("div",null,[e("nav",re,[(n(!0),i(p,null,v(r.history.links,(s,y)=>(n(),h(u(c),{key:y,href:s.url,innerHTML:s.label,class:w(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",y===0?"rounded-l-md":"",y===r.history.links.length-1?"rounded-r-md":""])},null,8,["href","innerHTML","class"]))),128))])])])])])):m("",!0)])])]),_:1})],64))}};export{le as default};
