import{_ as p}from"./AuthenticatedLayout-BqSWkGMK.js";import{r as u,v as f,c as a,a as m,u as _,m as w,w as h,b as s,i as g,o as d,e as y,t as o,y as r,F as b,k}from"./app-C42XF4l0.js";import"./DropdownLink-C3nCCoGM.js";const j={class:"space-y-6"},M={key:0,class:"rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800"},C={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},S={class:"rounded-xl border border-blue-100 bg-white p-6 shadow-sm hover:shadow-md transition-shadow"},V={class:"flex items-center justify-between"},B={class:"mt-2 text-3xl font-bold text-blue-600"},z={class:"rounded-xl border border-purple-100 bg-white p-6 shadow-sm hover:shadow-md transition-shadow"},H={class:"flex items-center justify-between"},R={class:"mt-2 text-3xl font-bold text-purple-600"},F={class:"rounded-xl border border-green-100 bg-white p-6 shadow-sm hover:shadow-md transition-shadow"},T={class:"flex items-center justify-between"},N={class:"mt-2 text-3xl font-bold text-green-600"},q={class:"rounded-xl border border-orange-100 bg-white p-6 shadow-sm hover:shadow-md transition-shadow"},L={class:"flex items-center justify-between"},X={class:"mt-2 text-3xl font-bold text-orange-600"},A={class:"grid gap-4 sm:grid-cols-3"},E={class:"rounded-xl border border-teal-100 bg-white p-6 shadow-sm"},P={class:"text-3xl font-bold text-teal-600"},O={class:"mt-2 h-2 w-full rounded-full bg-gray-200"},W={class:"rounded-xl border border-indigo-100 bg-white p-6 shadow-sm"},D={class:"text-3xl font-bold text-indigo-600"},Q={class:"rounded-xl border border-rose-100 bg-white p-6 shadow-sm"},$={class:"text-3xl font-bold text-rose-600"},G={class:"mt-2 text-xs text-gray-500"},I={class:"grid gap-4 sm:grid-cols-2"},J={class:"rounded-xl border border-gray-100 bg-white p-6 shadow-sm"},K={class:"space-y-4"},U={class:"mb-1 flex justify-between text-sm"},Y={class:"font-semibold text-gray-900"},Z={class:"h-2 w-full rounded-full bg-gray-200"},ss={class:"mb-1 flex justify-between text-sm"},es={class:"font-semibold text-gray-900"},ts={class:"h-2 w-full rounded-full bg-gray-200"},os={class:"mb-1 flex justify-between text-sm"},ls={class:"font-semibold text-gray-900"},as={class:"h-2 w-full rounded-full bg-gray-200"},ds={class:"rounded-xl border border-gray-100 bg-white p-6 shadow-sm"},rs={class:"grid grid-cols-2 gap-4"},is={class:"rounded-lg bg-blue-50 p-4"},ns={class:"mt-1 text-xl font-bold text-blue-900"},us={class:"rounded-lg bg-green-50 p-4"},vs={class:"mt-1 text-xl font-bold text-green-900"},cs={class:"rounded-lg bg-purple-50 p-4"},xs={class:"mt-1 text-xl font-bold text-purple-900"},ms={class:"rounded-lg bg-orange-50 p-4"},hs={class:"mt-1 text-xl font-bold text-orange-900"},gs={class:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm"},bs={class:"overflow-x-auto"},ps={class:"min-w-full divide-y divide-gray-200 text-sm"},fs={class:"divide-y divide-gray-100"},_s={class:"px-6 py-4 font-medium text-gray-900"},ws={class:"px-6 py-4 text-gray-700 font-semibold"},ys={class:"px-6 py-4"},ks={class:"flex items-center gap-2"},js={class:"h-2 flex-1 max-w-xs rounded-full bg-gray-200"},Ms={class:"text-xs text-gray-500"},Cs={key:0},Hs={__name:"School",setup(Ss){const t=u({students:0,classes:0,subjects:0,exams:0,teachers:0,marks:0,avg_subjects_per_class:0,avg_performance:0,pass_rate:0}),v=u([]),c=u(!1),i=u("");async function x(){c.value=!0,i.value="";try{const[n,e]=await Promise.all([fetch(route("api.reports.school"),{headers:{"X-Requested-With":"XMLHttpRequest"}}),fetch(route("api.reports.classes"),{headers:{"X-Requested-With":"XMLHttpRequest"}})]);if(!n.ok||!e.ok)throw new Error("Failed");t.value=await n.json();const l=await e.json();v.value=l.classes||[]}catch{i.value="Failed to load school report."}finally{c.value=!1}}return f(x),(n,e)=>(d(),a(b,null,[m(_(w),{title:"School Report"}),m(p,null,{header:h(()=>[...e[0]||(e[0]=[s("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"School Report",-1)])]),default:h(()=>[s("div",j,[i.value?(d(),a("div",M,[y(o(i.value)+" ",1),s("button",{onClick:x,class:"ml-2 rounded border border-rose-300 px-2 py-0.5 text-rose-700 hover:bg-rose-100"}," Retry ")])):g("",!0),e[25]||(e[25]=s("div",{class:"rounded-xl border border-blue-100 bg-gradient-to-br from-blue-50 to-indigo-50 p-6 shadow-md"},[s("div",{class:"mb-4 flex items-center gap-3"},[s("div",{class:"rounded-full bg-blue-500 p-3"},[s("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])]),s("div",null,[s("h2",{class:"text-2xl font-bold text-blue-900"},"School Overview"),s("p",{class:"text-sm text-blue-700"},"Comprehensive school analytics and performance metrics")])])],-1)),s("div",C,[s("div",S,[s("div",V,[s("div",null,[e[1]||(e[1]=s("div",{class:"text-sm font-medium text-gray-600"},"Total Students",-1)),s("div",B,o(t.value.students),1)]),e[2]||(e[2]=s("div",{class:"rounded-full bg-blue-100 p-3"},[s("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))])]),s("div",z,[s("div",H,[s("div",null,[e[3]||(e[3]=s("div",{class:"text-sm font-medium text-gray-600"},"Teachers",-1)),s("div",R,o(t.value.teachers),1)]),e[4]||(e[4]=s("div",{class:"rounded-full bg-purple-100 p-3"},[s("svg",{class:"h-6 w-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])]),s("div",F,[s("div",T,[s("div",null,[e[5]||(e[5]=s("div",{class:"text-sm font-medium text-gray-600"},"Classes",-1)),s("div",N,o(t.value.classes),1)]),e[6]||(e[6]=s("div",{class:"rounded-full bg-green-100 p-3"},[s("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1))])]),s("div",q,[s("div",L,[s("div",null,[e[7]||(e[7]=s("div",{class:"text-sm font-medium text-gray-600"},"Subjects",-1)),s("div",X,o(t.value.subjects),1)]),e[8]||(e[8]=s("div",{class:"rounded-full bg-orange-100 p-3"},[s("svg",{class:"h-6 w-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1))])])]),s("div",A,[s("div",E,[e[9]||(e[9]=s("div",{class:"mb-3 flex items-center gap-2"},[s("div",{class:"rounded-full bg-teal-100 p-2"},[s("svg",{class:"h-5 w-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),s("div",{class:"text-sm font-medium text-gray-700"},"Pass Rate")],-1)),s("div",P,o(t.value.pass_rate)+"%",1),s("div",O,[s("div",{class:"h-2 rounded-full bg-teal-500 transition-all",style:r({width:t.value.pass_rate+"%"})},null,4)])]),s("div",W,[e[10]||(e[10]=s("div",{class:"mb-3 flex items-center gap-2"},[s("div",{class:"rounded-full bg-indigo-100 p-2"},[s("svg",{class:"h-5 w-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),s("div",{class:"text-sm font-medium text-gray-700"},"Avg Performance")],-1)),s("div",D,o(t.value.avg_performance)+"%",1),e[11]||(e[11]=s("div",{class:"mt-2 text-xs text-gray-500"},"Overall average marks",-1))]),s("div",Q,[e[12]||(e[12]=s("div",{class:"mb-3 flex items-center gap-2"},[s("div",{class:"rounded-full bg-rose-100 p-2"},[s("svg",{class:"h-5 w-5 text-rose-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])]),s("div",{class:"text-sm font-medium text-gray-700"},"Total Exams")],-1)),s("div",$,o(t.value.exams),1),s("div",G,o(t.value.marks)+" marks recorded",1)])]),s("div",I,[s("div",J,[e[16]||(e[16]=s("div",{class:"mb-4 flex items-center gap-2"},[s("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})]),s("h3",{class:"text-lg font-semibold text-gray-800"},"Resource Ratios")],-1)),s("div",K,[s("div",null,[s("div",U,[e[13]||(e[13]=s("span",{class:"text-gray-600"},"Students per Class",-1)),s("span",Y,o(t.value.classes>0?(t.value.students/t.value.classes).toFixed(1):0),1)]),s("div",Z,[s("div",{class:"h-2 rounded-full bg-blue-500",style:r({width:Math.min(100,t.value.students/t.value.classes/50*100)+"%"})},null,4)])]),s("div",null,[s("div",ss,[e[14]||(e[14]=s("span",{class:"text-gray-600"},"Students per Teacher",-1)),s("span",es,o(t.value.teachers>0?(t.value.students/t.value.teachers).toFixed(1):0),1)]),s("div",ts,[s("div",{class:"h-2 rounded-full bg-purple-500",style:r({width:Math.min(100,t.value.students/t.value.teachers/30*100)+"%"})},null,4)])]),s("div",null,[s("div",os,[e[15]||(e[15]=s("span",{class:"text-gray-600"},"Avg Subjects per Class",-1)),s("span",ls,o(t.value.avg_subjects_per_class),1)]),s("div",as,[s("div",{class:"h-2 rounded-full bg-green-500",style:r({width:Math.min(100,t.value.avg_subjects_per_class/15*100)+"%"})},null,4)])])])]),s("div",ds,[e[21]||(e[21]=s("div",{class:"mb-4 flex items-center gap-2"},[s("svg",{class:"h-6 w-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),s("h3",{class:"text-lg font-semibold text-gray-800"},"Quick Stats")],-1)),s("div",rs,[s("div",is,[e[17]||(e[17]=s("div",{class:"text-xs text-blue-600"},"Student-Teacher Ratio",-1)),s("div",ns,o(t.value.teachers>0?(t.value.students/t.value.teachers).toFixed(0):0)+":1",1)]),s("div",us,[e[18]||(e[18]=s("div",{class:"text-xs text-green-600"},"Class Size",-1)),s("div",vs,o(t.value.classes>0?(t.value.students/t.value.classes).toFixed(0):0),1)]),s("div",cs,[e[19]||(e[19]=s("div",{class:"text-xs text-purple-600"},"Subjects/Class",-1)),s("div",xs,o(t.value.avg_subjects_per_class),1)]),s("div",ms,[e[20]||(e[20]=s("div",{class:"text-xs text-orange-600"},"Total Marks",-1)),s("div",hs,o(t.value.marks),1)])])])]),s("div",gs,[e[24]||(e[24]=s("div",{class:"border-b bg-gradient-to-r from-cyan-50 to-blue-50 px-6 py-4"},[s("h3",{class:"text-lg font-semibold text-gray-800"},"Class Subject Coverage")],-1)),s("div",bs,[s("table",ps,[e[23]||(e[23]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left font-semibold text-gray-700"},"Class Name"),s("th",{class:"px-6 py-3 text-left font-semibold text-gray-700"},"Assigned Subjects"),s("th",{class:"px-6 py-3 text-left font-semibold text-gray-700"},"Coverage")])],-1)),s("tbody",fs,[(d(!0),a(b,null,k(v.value,l=>(d(),a("tr",{key:l.id,class:"hover:bg-gray-50 transition-colors"},[s("td",_s,o(l.name),1),s("td",ws,o(l.subjects),1),s("td",ys,[s("div",ks,[s("div",js,[s("div",{class:"h-2 rounded-full bg-cyan-500",style:r({width:Math.min(100,l.subjects/t.value.subjects*100)+"%"})},null,4)]),s("span",Ms,o(t.value.subjects>0?(l.subjects/t.value.subjects*100).toFixed(0):0)+"%",1)])])]))),128)),v.value.length===0?(d(),a("tr",Cs,[...e[22]||(e[22]=[s("td",{colspan:"3",class:"px-6 py-8 text-center text-sm text-gray-500"},"No data available",-1)])])):g("",!0)])])])])])]),_:1})],64))}};export{Hs as default};
