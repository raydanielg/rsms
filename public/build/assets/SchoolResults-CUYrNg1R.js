import{g as _,c as x,a as u,u as f,m as T,w as y,b as t,i as w,l as h,t as r,e as i,o as a,F as b,k as g,y as I,n as m,q as F}from"./app-C42XF4l0.js";import{_ as D}from"./EmasLayout-CT7diuvK.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C3nCCoGM.js";const j={class:"space-y-6 print:space-y-4"},z={class:"flex items-center justify-between gap-4 print:hidden"},A={class:"flex items-center gap-4"},R={class:"text-3xl font-black text-gray-900"},E={class:"text-sm text-gray-600 mt-1"},N={class:"font-bold text-emerald-600"},O={class:"text-center mb-2 py-2 bg-white border-b-2 border-gray-400 print:py-3 print:border-b"},L={class:"text-lg font-black text-emerald-800 uppercase mt-1 print:text-sm"},P={class:"text-xs font-bold text-gray-600 uppercase print:text-[9px]"},H={class:"text-[10px] text-gray-500 print:text-[8px]"},G={class:"bg-white mb-2 pb-2 border-b-2 border-gray-300 print:mb-1 print:pb-1 print:border-b"},$={class:"flex justify-center"},W={class:"border-collapse border border-gray-400 print:text-[7px]"},U={class:"bg-pink-50"},X={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},Y={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},q={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},K={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},J={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},Q={class:"bg-blue-50"},Z={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},tt={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},et={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},rt={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},st={class:"border border-gray-400 px-3 py-0.5 text-center text-xs font-bold text-gray-800 print:px-2 print:text-[7px]"},ot={class:"bg-emerald-50"},nt={class:"border border-gray-400 px-3 py-0.5 text-center text-sm font-black text-emerald-700 print:px-2 print:text-[8px]"},at={class:"border border-gray-400 px-3 py-0.5 text-center text-sm font-black text-blue-700 print:px-2 print:text-[8px]"},lt={class:"border border-gray-400 px-3 py-0.5 text-center text-sm font-black text-yellow-700 print:px-2 print:text-[8px]"},xt={class:"border border-gray-400 px-3 py-0.5 text-center text-sm font-black text-orange-700 print:px-2 print:text-[8px]"},dt={class:"border border-gray-400 px-3 py-0.5 text-center text-sm font-black text-red-700 print:px-2 print:text-[8px]"},pt={class:"bg-white overflow-hidden print:shadow-none"},it={key:0,ref:"tableContainer",class:"overflow-x-auto"},ct={class:"w-full border-collapse min-w-max",style:{"font-size":"10px"}},bt={class:"bg-gray-100"},ft={class:"transform",style:{"writing-mode":"vertical-rl","text-orientation":"mixed",transform:"rotate(180deg)",height:"70px",display:"flex","align-items":"center","justify-content":"center"}},yt={class:"bg-white"},gt={class:"border border-gray-300 px-2 py-1.5 text-center text-[10px] font-bold text-gray-900 sticky left-0 bg-white z-10"},ut={class:"border border-gray-300 px-2 py-1.5 text-left text-[10px] font-bold text-gray-900 sticky left-[40px] bg-white z-10"},ht={class:"border border-gray-300 px-2 py-1.5 text-center text-xs font-black text-emerald-700 bg-emerald-50"},mt={class:"border border-gray-300 px-2 py-1.5 text-center text-xs font-black text-blue-700 bg-blue-50"},vt={key:1,class:"p-12 text-center"},kt={key:0,class:"rounded-xl bg-white shadow-sm overflow-hidden border-2 border-gray-200 print:break-before-page print:border print:shadow-none"},_t={class:"overflow-x-auto"},wt={class:"min-w-full divide-y divide-gray-200 text-sm"},It={class:"divide-y divide-gray-100 bg-white"},Ft={class:"px-4 py-3 text-sm font-bold text-slate-700"},Mt={class:"px-4 py-3 text-sm font-bold text-slate-900"},Ct={class:"px-4 py-3 text-center text-sm font-bold text-slate-700"},St={class:"px-4 py-3 text-center text-sm font-black text-slate-900"},Vt={class:"px-4 py-3 text-center"},Tt={class:"px-4 py-3 text-center text-sm font-bold text-emerald-700"},Dt={class:"px-4 py-3 text-center text-sm font-bold text-blue-700"},Bt={class:"px-4 py-3 text-center text-sm font-bold text-yellow-700"},jt={class:"px-4 py-3 text-center text-sm font-bold text-orange-700"},zt={class:"px-4 py-3 text-center text-sm font-bold text-red-700"},At={key:1,class:"flex items-center justify-between rounded-lg bg-white px-6 py-4 shadow-sm border border-gray-200 print:hidden"},Rt={class:"text-sm text-gray-700"},Et={class:"font-bold text-gray-900"},Nt={class:"font-bold text-gray-900"},Ot={class:"font-bold text-gray-900"},Lt={class:"flex gap-2"},Pt={key:1,class:"rounded-lg border-2 border-gray-200 px-4 py-2 text-sm font-bold text-gray-400 cursor-not-allowed"},Ht={key:3,class:"rounded-lg border-2 border-gray-200 px-4 py-2 text-sm font-bold text-gray-400 cursor-not-allowed"},Gt={class:"hidden print:block mt-2 pt-2 border-t-2 border-gray-400"},$t={class:"text-center space-y-1"},Wt={class:"text-[7px] text-gray-600"},Ut={class:"text-[7px] text-gray-500"},Xt={class:"text-[7px] text-gray-500"},Yt={__name:"SchoolResults",props:{center:Object,candidates:Object,subjects:Array,stats:Object,exams:Array},setup(o){const p=o;console.log("SchoolResults Props:",p);const M=n=>{if(!n)return"text-gray-600";const e=String(n).toUpperCase();return e==="I"?"text-emerald-700 font-black":e==="II"?"text-blue-700 font-bold":e==="III"?"text-yellow-700 font-bold":e==="IV"?"text-orange-700 font-bold":e==="0"?"text-red-700 font-bold":"text-gray-600"},l=_(()=>{const n={F:{I:0,II:0,III:0,IV:0,0:0},M:{I:0,II:0,III:0,IV:0,0:0},T:{I:0,II:0,III:0,IV:0,0:0}};return p.candidates?.data&&p.candidates.data.forEach(e=>{const s=e.division||"0",d=e.gender==="F"?"F":"M";n[d].hasOwnProperty(s)&&(n[d][s]++,n.T[s]++)}),n}),v=_(()=>{const n={};return!p.candidates?.data||!p.subjects?[]:(p.subjects.forEach(e=>{n[e]={name:e,total:0,A:0,B:0,C:0,D:0,F:0,sum:0,count:0}}),p.candidates.data.forEach(e=>{e.results&&Object.keys(e.results).forEach(s=>{if(n[s]){n[s].total++;const d=e.results[s].grade,c=e.results[s].score;d&&n[s][d]++,c&&(n[s].sum+=c,n[s].count++)}})}),Object.values(n).map(e=>({...e,average:e.count>0?(e.sum/e.count).toFixed(1):"0.0",passRate:e.total>0?((e.A+e.B+e.C+e.D)/e.total*100).toFixed(1):"0.0"})))}),C=()=>{window.print()},S=n=>{const e=["#b3d9ff","#c2f0c2","#ffe0b3","#ffd9d9","#e6ccff","#fff9b3","#d9f0ff","#ffccf2","#ccffe6","#ffd9b3","#d9d9ff","#ffffcc","#ccf2ff","#ffb3d9","#b3ffe6"];return e[n%e.length]},V=(n,e)=>{if(!e||e==="-")return"#ffffff";const s=["#e6f3ff","#e6f9e6","#fff5e6","#fff0f0","#f5ebff","#fffef0","#f0f9ff","#ffe6f5","#e6fff5","#fff0e6","#f0f0ff","#fffff5","#e6f9ff","#ffe6f0","#e6fff9"];return s[n%s.length]};return(n,e)=>(a(),x(b,null,[u(f(T),{title:`Matokeo - ${o.center.center_name}`},null,8,["title"]),u(D,null,{default:y(()=>[t("div",j,[t("div",z,[t("div",A,[u(f(h),{href:n.route("emas.results.index"),class:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border-2 border-gray-300 text-gray-600 hover:bg-gray-50 hover:border-emerald-500 hover:text-emerald-600 transition-all"},{default:y(()=>[...e[0]||(e[0]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),t("div",null,[t("h1",R,r(o.center.center_name),1),t("p",E,[t("span",N,r(o.center.center_code),1),e[1]||(e[1]=t("span",{class:"mx-2"},"•",-1)),t("span",null,r(o.center.district)+", "+r(o.center.region),1)])])]),t("button",{onClick:C,class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 hover:bg-blue-700 px-8 py-3 text-white font-bold transition-colors shadow-lg hover:shadow-xl"},[...e[2]||(e[2]=[t("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),i(" Print Results ",-1)])])]),t("div",O,[e[3]||(e[3]=t("div",{class:"text-[8px] uppercase tracking-wide text-gray-500 print:text-[7px]"},"The President's Office - Regional Administration and Local Government",-1)),t("div",L,r(o.center.center_name),1),t("div",P," EMAS Results "+r(new Date().getFullYear()),1),t("div",H,r(o.center.center_code)+" | "+r(o.center.district)+", "+r(o.center.region),1)]),t("div",G,[e[8]||(e[8]=t("h3",{class:"text-[10px] font-bold text-gray-700 mb-1 text-center uppercase print:text-[8px]"},"Division Summary",-1)),t("div",$,[t("table",W,[e[7]||(e[7]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"border border-gray-400 px-3 py-0.5 text-[10px] font-bold text-gray-800 print:px-2 print:text-[7px]"},"SEX"),t("th",{class:"border border-gray-400 px-3 py-0.5 text-[10px] font-bold text-emerald-700 print:px-2 print:text-[7px]"},"I"),t("th",{class:"border border-gray-400 px-3 py-0.5 text-[10px] font-bold text-blue-700 print:px-2 print:text-[7px]"},"II"),t("th",{class:"border border-gray-400 px-3 py-0.5 text-[10px] font-bold text-yellow-700 print:px-2 print:text-[7px]"},"III"),t("th",{class:"border border-gray-400 px-3 py-0.5 text-[10px] font-bold text-orange-700 print:px-2 print:text-[7px]"},"IV"),t("th",{class:"border border-gray-400 px-3 py-0.5 text-[10px] font-bold text-red-700 print:px-2 print:text-[7px]"},"0")])],-1)),t("tbody",null,[t("tr",U,[e[4]||(e[4]=t("td",{class:"border border-gray-400 px-3 py-0.5 text-center text-[10px] font-bold text-pink-700 print:px-2 print:text-[7px]"},"F",-1)),t("td",X,r(l.value.F.I),1),t("td",Y,r(l.value.F.II),1),t("td",q,r(l.value.F.III),1),t("td",K,r(l.value.F.IV),1),t("td",J,r(l.value.F[0]),1)]),t("tr",Q,[e[5]||(e[5]=t("td",{class:"border border-gray-400 px-3 py-0.5 text-center text-[10px] font-bold text-blue-700 print:px-2 print:text-[7px]"},"M",-1)),t("td",Z,r(l.value.M.I),1),t("td",tt,r(l.value.M.II),1),t("td",et,r(l.value.M.III),1),t("td",rt,r(l.value.M.IV),1),t("td",st,r(l.value.M[0]),1)]),t("tr",ot,[e[6]||(e[6]=t("td",{class:"border border-gray-400 px-3 py-0.5 text-center text-[10px] font-bold text-emerald-700 print:px-2 print:text-[7px]"},"T",-1)),t("td",nt,r(l.value.T.I),1),t("td",at,r(l.value.T.II),1),t("td",lt,r(l.value.T.III),1),t("td",xt,r(l.value.T.IV),1),t("td",dt,r(l.value.T[0]),1)])])])])]),t("div",pt,[o.candidates?.data&&o.candidates.data.length>0?(a(),x("div",it,[t("table",ct,[t("thead",null,[t("tr",bt,[e[9]||(e[9]=t("th",{class:"border border-gray-400 px-2 py-2 text-center text-[9px] font-black text-gray-800 uppercase sticky left-0 bg-gray-100 z-20",style:{"min-width":"40px"}}," CNO ",-1)),e[10]||(e[10]=t("th",{class:"border border-gray-400 px-2 py-2 text-left text-[9px] font-black text-gray-800 uppercase sticky left-[40px] bg-gray-100 z-20",style:{"min-width":"180px"}}," CANDIDATE FULL NAME ",-1)),e[11]||(e[11]=t("th",{class:"border border-gray-400 px-2 py-2 text-center text-[9px] font-black text-gray-800 uppercase bg-gray-100",style:{"min-width":"35px"}}," SEX ",-1)),(a(!0),x(b,null,g(o.subjects,(s,d)=>(a(),x("th",{key:`subj-${d}`,class:"border border-gray-400 px-1 py-2 text-center text-[8px] font-black uppercase",style:I([{"min-width":"45px"},{background:S(d)}])},[t("div",ft,r(s),1)],4))),128)),e[12]||(e[12]=t("th",{class:"border border-gray-400 px-2 py-2 text-center text-[9px] font-black text-gray-800 uppercase bg-emerald-100",style:{"min-width":"50px"}}," TOTAL ",-1)),e[13]||(e[13]=t("th",{class:"border border-gray-400 px-2 py-2 text-center text-[9px] font-black text-gray-800 uppercase bg-blue-100",style:{"min-width":"45px"}}," AVG ",-1)),e[14]||(e[14]=t("th",{class:"border border-gray-400 px-2 py-2 text-center text-[9px] font-black text-gray-800 uppercase bg-purple-100",style:{"min-width":"40px"}}," DIV ",-1))])]),t("tbody",yt,[(a(!0),x(b,null,g(o.candidates.data,(s,d)=>(a(),x("tr",{key:s.id,class:"hover:bg-yellow-50 transition-colors"},[t("td",gt,r(o.candidates.from+d),1),t("td",ut,r(s.full_name),1),t("td",{class:m(["border border-gray-300 px-2 py-1.5 text-center text-[10px] font-black",s.gender==="M"?"text-blue-700":"text-pink-700"])},r(s.gender),3),(a(!0),x(b,null,g(o.subjects,(c,k)=>(a(),x("td",{key:`cell-${k}`,class:"border border-gray-300 px-2 py-1.5 text-center text-sm font-black",style:I({background:V(k,s.results?.[c]?.score)})},r(s.results?.[c]?.score||""),5))),128)),t("td",ht,r(s.total_score||"0"),1),t("td",mt,r(s.average_score||"0"),1),t("td",{class:m(["border border-gray-300 px-2 py-1.5 text-center text-sm font-black bg-purple-50",M(s.division)])},r(s.division||"0"),3)]))),128))])])],512)):(a(),x("div",vt,[...e[15]||(e[15]=[t("svg",{class:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"text-lg font-bold text-gray-900 mb-2"},"Hakuna Matokeo",-1),t("p",{class:"text-gray-600"},"Bado hakuna matokeo yaliyopatikana kwa shule hii",-1)])]))]),v.value.length>0?(a(),x("div",kt,[e[17]||(e[17]=t("div",{class:"bg-gradient-to-r from-slate-700 to-slate-800 px-6 py-4"},[t("h3",{class:"text-lg font-black text-white uppercase"},"Takwimu za Masomo")],-1)),t("div",_t,[t("table",wt,[e[16]||(e[16]=t("thead",{class:"bg-slate-100"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-black text-slate-800 uppercase"},"#"),t("th",{class:"px-4 py-3 text-left text-xs font-black text-slate-800 uppercase"},"Somo"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-slate-800 uppercase"},"Wanafunzi"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-slate-800 uppercase"},"Wastani"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-slate-800 uppercase"},"% Waliofaulu"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-emerald-700 uppercase"},"A"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-blue-700 uppercase"},"B"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-yellow-700 uppercase"},"C"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-orange-700 uppercase"},"D"),t("th",{class:"px-4 py-3 text-center text-xs font-black text-red-700 uppercase"},"F")])],-1)),t("tbody",It,[(a(!0),x(b,null,g(v.value,(s,d)=>(a(),x("tr",{key:s.name,class:"hover:bg-slate-50"},[t("td",Ft,r(d+1),1),t("td",Mt,r(s.name),1),t("td",Ct,r(s.total),1),t("td",St,r(s.average),1),t("td",Vt,[t("span",{class:m(["inline-flex items-center rounded-full px-2.5 py-1 text-xs font-bold",parseFloat(s.passRate)>=80?"bg-emerald-100 text-emerald-800":parseFloat(s.passRate)>=60?"bg-blue-100 text-blue-800":parseFloat(s.passRate)>=40?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"])},r(s.passRate)+"% ",3)]),t("td",Tt,r(s.A),1),t("td",Dt,r(s.B),1),t("td",Bt,r(s.C),1),t("td",jt,r(s.D),1),t("td",zt,r(s.F),1)]))),128))])])])])):w("",!0),o.candidates?.data&&o.candidates.data.length>0?(a(),x("div",At,[t("div",Rt,[e[18]||(e[18]=i(" Kuonyesha ",-1)),t("span",Et,r(o.candidates?.from||0),1),e[19]||(e[19]=i(" hadi ",-1)),t("span",Nt,r(o.candidates?.to||0),1),e[20]||(e[20]=i(" kati ya ",-1)),t("span",Ot,r(o.candidates?.total||0),1),e[21]||(e[21]=i(" wanafunzi ",-1))]),t("div",Lt,[o.candidates?.prev_page_url?(a(),F(f(h),{key:0,href:o.candidates.prev_page_url,class:"rounded-lg border-2 border-gray-300 px-4 py-2 text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors","preserve-scroll":""},{default:y(()=>[...e[22]||(e[22]=[i(" Nyuma ",-1)])]),_:1},8,["href"])):(a(),x("span",Pt," Nyuma ")),o.candidates?.next_page_url?(a(),F(f(h),{key:2,href:o.candidates.next_page_url,class:"rounded-lg border-2 border-gray-300 px-4 py-2 text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors","preserve-scroll":""},{default:y(()=>[...e[23]||(e[23]=[i(" Mbele ",-1)])]),_:1},8,["href"])):(a(),x("span",Ht," Mbele "))])])):w("",!0),t("div",Gt,[t("div",$t,[t("div",Wt," © "+r(new Date().getFullYear())+" Results Management System (RSMS) ",1),t("div",Ut," Printed on "+r(new Date().toLocaleDateString("en-GB"))+" at "+r(new Date().toLocaleTimeString("en-GB")),1),t("div",Xt," This is an official document from "+r(o.center.center_name),1)])])])]),_:1})],64))}},Zt=B(Yt,[["__scopeId","data-v-30638456"]]);export{Zt as default};
