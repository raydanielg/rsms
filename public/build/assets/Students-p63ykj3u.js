import{_ as g}from"./AuthenticatedLayout-2X-NjQgu.js";import{r as i,j as p,c as o,a as x,u as v,h as b,w as y,b as t,p as m,o as d,e as h,t as a,F as _,y as f}from"./app-CNtTXHrN.js";const w={class:"space-y-4"},k={key:0,class:"rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800"},F={class:"grid gap-3 sm:grid-cols-3"},N={class:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm"},R={class:"mt-1 text-2xl font-semibold text-gray-800"},S={class:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm"},C={class:"mt-1 text-2xl font-semibold text-gray-800"},V={class:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm"},B={class:"mt-1 text-2xl font-semibold text-gray-800"},M={class:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm"},j={class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-gray-200 text-sm"},E={class:"divide-y divide-gray-100"},L={class:"px-4 py-3 text-gray-900"},T={class:"px-4 py-3 text-gray-700"},X={key:0},$={__name:"Students",setup(D){const s=i({total:0,male:0,female:0,by_class:[]}),c=i(!1),r=i("");async function u(){c.value=!0,r.value="";try{const l=await fetch(route("api.reports.students"),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!l.ok)throw new Error("Failed");s.value=await l.json()}catch{r.value="Failed to load students report."}finally{c.value=!1}}return p(u),(l,e)=>(d(),o(_,null,[x(v(b),{title:"Students Reports"}),x(g,null,{header:y(()=>[...e[0]||(e[0]=[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Students Reports",-1)])]),default:y(()=>[t("div",w,[r.value?(d(),o("div",k,[h(a(r.value)+" ",1),t("button",{onClick:u,class:"ml-2 rounded border border-rose-300 px-2 py-0.5 text-rose-700 hover:bg-rose-100"},"Retry")])):m("",!0),t("div",F,[t("div",N,[e[1]||(e[1]=t("div",{class:"text-xs text-gray-500"},"Total students",-1)),t("div",R,a(s.value.total),1)]),t("div",S,[e[2]||(e[2]=t("div",{class:"text-xs text-gray-500"},"Male",-1)),t("div",C,a(s.value.male),1)]),t("div",V,[e[3]||(e[3]=t("div",{class:"text-xs text-gray-500"},"Female",-1)),t("div",B,a(s.value.female),1)])]),t("div",M,[t("div",j,[t("table",q,[e[5]||(e[5]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left font-semibold text-gray-700"},"Class"),t("th",{class:"px-4 py-3 text-left font-semibold text-gray-700"},"Students")])],-1)),t("tbody",E,[(d(!0),o(_,null,f(s.value.by_class,n=>(d(),o("tr",{key:n.class_name,class:"hover:bg-gray-50"},[t("td",L,a(n.class_name||"â€”"),1),t("td",T,a(n.count),1)]))),128)),(s.value.by_class||[]).length===0?(d(),o("tr",X,[...e[4]||(e[4]=[t("td",{colspan:"2",class:"px-4 py-8 text-center text-sm text-gray-500"},"No data.",-1)])])):m("",!0)])])])])])]),_:1})],64))}};export{$ as default};
